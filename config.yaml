
proxies:

proxy-providers:
  
  代理商:
    type: http
    url: "https://v1.mk/gIM7uVQ"
    path: ./proxy_providers/代理商.yaml
    interval: 3600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
    filter: "^(?!.*(?:https://t.me/qidian_yun|卐奇点㊣)).*"     #过滤正则
  代理商2:
    type: http
    url: "https://suo.yt/g7ZdivO"
    path: ./proxy_providers/代理商2.yaml
    interval: 3600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

# 代理策略组
proxy-groups:
  # select 用来允许用户手动选择 代理服务器 或 服务器组
  # 您也可以使用 RESTful API 去切换服务器，这种方式推荐在 GUI 中使用
  - name: 🚀 节点选择
    type: select
    proxies:
     - DIRECT
     - ♻️ 自动选择
     - 🎯 故障转移
     - 🚥 负载均衡
     - ♻️ 自动选择奇点
     - ♻️ 自动选择ikuuu
    use:
     - 代理商
     - 代理商2
    

  # url-test 可以自动选择与指定 URL 测速后，延迟最短的服务器
  - name: ♻️ 自动选择
    type: url-test
    use:
     - 代理商
     - 代理商2
    
    url: http://www.gstatic.com/generate_204
    interval: 300


  # url-test 可以自动选择与指定 URL 测速后，延迟最短的服务器
  - name: ♻️ 自动选择奇点
    type: url-test
    use:
     - 代理商
    
    url: http://www.gstatic.com/generate_204
    interval: 300

  # url-test 可以自动选择与指定 URL 测速后，延迟最短的服务器
  - name: ♻️ 自动选择ikuuu
    type: url-test
    use:
     - 代理商2
    
    url: http://www.gstatic.com/generate_204
    interval: 300


  # fallback 故障转移 可以尽量按照用户书写的服务器顺序，在确保服务器可用的情况下，自动选择服务器
  - name: 🎯 故障转移
    type: fallback
    use:
     - 代理商
     - 代理商2
    
    url: http://www.gstatic.com/generate_204
    interval: 300

  # load-balance 负载均衡 可以使相同 eTLD 请求在同一条代理线路上
  - name: 🚥 负载均衡
    type: load-balance
    use:
     - 代理商
     - 代理商2
    
    url: http://www.gstatic.com/generate_204
    interval: 300


  # 漏网之鱼  全匹配规则
  - name: 🐟 漏网之鱼
    type: select
    proxies:
     - DIRECT
     - 🚀 节点选择
     - ♻️ 自动选择
     - 🎯 故障转移
     - 🚥 负载均衡
    use:
     - 代理商
     - 代理商2

rule-providers:
   tiktok:
    type: http
    behavior: domain
    url: https://rules.kr328.app/tiktok.yaml
    path: ./rule_providers/tiktok.yaml
    interval: 21600
  #fcm:
    #type: file
    #behavior: classical
    #path: ./rule_providers/fcm.yaml
    
rules:
  # 回环
  - IP-CIDR,127.0.0.1/32,REJECT,no-resolve
  - PROCESS-NAME,clash,REJECT
  - AND,((DST-PORT,5228-5230),(NETWORK,TCP),(DOMAIN,mtalk.google.com)),DIRECT
  # 国内网站
  - DOMAIN-SUFFIX,cn,DIRECT
  - DOMAIN-KEYWORD,-cn,DIRECT
  # rule_providers
  - RULE-SET,tiktok,🚀 节点选择
  # 最终规则
  - GEOSITE,CN,DIRECT
  - GEOSITE,geolocation-cn,DIRECT
  - GEOSITE,geolocation-!cn,🚀 节点选择
  - GEOIP,CN,DIRECT
  - MATCH,🐟 漏网之鱼
#🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯🎯